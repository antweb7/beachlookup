---
const { lat, lng, label = '', zoom = 15 } = Astro.props;
const key = import.meta.env.PUBLIC_GOOGLE_MAPS_KEY;

// Static image (no JS). Note Google expects lat,lng order.
const width = 800, height = 450, scale = 2;
const src = `https://maps.googleapis.com/maps/api/staticmap?center=${lat},${lng}&zoom=${zoom}&size=${width}x${height}&scale=${scale}&maptype=roadmap&markers=color:red|${lat},${lng}&key=${key}`;
---
<figure style="margin:0">
  <img
    src={src}
    width={width}
    height={height}
    alt={label}
    style="width:100%;height:auto;border-radius:12px;border:1px solid #1f2937;background:#0f1420"
    loading="lazy"
    decoding="async"
  />
  {label && <figcaption style="font-size:.8rem;opacity:.8;margin-top:.25rem">{label}</figcaption>}
</figure>
